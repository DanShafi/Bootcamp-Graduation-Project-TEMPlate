<div class="card p-3 my-2">
  <div class="row justify-content-between">

    <div class="col-12 d-flex justify-content-between">
      <p><%= shift&.date %></p>
      <p><%= shift&.start_time&.strftime("%k:%M") %> to <%= shift&.end_time&.strftime("%k:%M") %></p>
      <p>Hourly Rate: Â£<%= shift.pay %></p>
    </div>

    <div class="col-12">
      <% if shift.user.nil? %>
        <div class="border-bottom py-2">
          <p>No worker assigned yet</p>
        </div>
      <% else %>
        <div class="py-2 border-bottom d-flex justify-content-between">
          <p><%= "#{shift.user.first_name} is scheduled to work this shift" %></p>
          <%= render 'shifts/profile-card-modal', shift: shift, user: shift.user, open_modal: "View Profile" %>
        </div>
      <% end %>
    </div>

    <div class="mt-2 col-12 d-flex justify-content-between">
      <% if policy(@job).edit? %>
        <% if shift.user %>
          <% if !shift.reviews.any? %>
            <%= render 'shared/review', shift: shift %>
          <% end %>
        <% else %>
          <%= render 'shared/view_requests', shift: shift %>
          <%= render 'shared/create-shift', shift: shift, modal_button: "Edit Shift" %>
        <% end %>
      <% else %>
        <%= render 'shared/request', shift: shift %>
      <% end %>
    </div>

  </div>
</div>
